<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=description content="Thunderbolt's adoption, till now, has mainly been driven by the Mac ecosystem. Solutions for DIY PC enthusiasts are not widespread. GIGABYTE has a few motherboard models with Thunderbolt integrated, while Asus's Thunderbolt-capable motherboards need an add-on PCIe card. Our Windows-based testbed for direct-attached storage (DAS) systems is based on the latest Z97 chipset from Intel."><meta name=author content="Reinaldo Massengill"><meta name=generator content="Hugo 0.98.0"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=robots content="index,follow,noarchive"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/base16/css/style.css type=text/css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type=text/css><link rel=alternate href=./index.xml type=application/rss+xml title=ZBlogX><title>Testbed Setup and Testing Methodology - ZBlogX</title></head><body><header><div class="container clearfix"><a class=path href=./index.html>[ZBlogX]</a>
<span class=caret># _</span><div class=right></div></div></header><div class=container><main role=main class=article><article class=single itemscope itemtype=http://schema.org/BlogPosting><div class=meta><span class=key>published on</span>
<span class=val><time itemprop=datePublished datetime=2024-07-20>July 20, 2024</time></span>
<span class=key>in</span>
<span class=val><a href=./categories/blog>blog</a></span></div><h1 class=headline itemprop=headline>Testbed Setup and Testing Methodology</h1><section class=body itemprop=articleBody><p>Thunderbolt's adoption, till now, has mainly been driven by the Mac ecosystem. Solutions for DIY PC enthusiasts are not widespread. GIGABYTE has a few motherboard models with Thunderbolt integrated, while Asus's Thunderbolt-capable motherboards need an add-on PCIe card. Our Windows-based testbed for direct-attached storage (DAS) systems is based on the latest Z97 chipset from Intel. The build originally started out as a multimedia editing machine. The requirements of a DAS testbed fit in nicely with the original purpose of the build. The following table details the configuration of our testbed.</p><table align=center border=1 cellpadding=0 cellspacing=0 width=600><tbody readability=5><tr readability=2><td class=contentwhite colspan=2>AnandTech DAS Testbed Configuration</td></tr><tr readability=2><td>Motherboard</td><td>Asus Z97-PRO Wi-Fi ac ATX</td></tr><tr><td>CPU</td><td>Intel Core i7-4790</td></tr><tr readability=2><td>Memory</td><td>Corsair Vengeance Pro CMY32GX3M4A2133C11<br>32 GB (4x 8GB)<br>DDR3-2133 @ 11-11-11-27</td></tr><tr><td>OS Drive</td><td>Seagate 600 Pro 400 GB</td></tr><tr readability=2><td>Optical Drive</td><td>Asus BW-16D1HT 16x Blu-ray Write (w/ M-Disc Support)</td></tr><tr><td>Add-on Card</td><td>Asus Thunderbolt EX II</td></tr><tr><td>Chassis</td><td>Corsair Air 540</td></tr><tr><td>PSU</td><td>Corsair AX760i 760 W</td></tr><tr><td>OS</td><td>Windows 8.1 Pro</td></tr><tr readability=2><td colspan=2><strong>Thanks to Asus and Corsair for the build components</strong></td></tr></tbody></table><p>We decided to prepare the testbed with 32 GB of memory in order to make a large enough RAM drive available for our file copy tests. Similar to our NAS testbed, we used OSFMount to allocate 20 GB of the DRAM for a RAM disk partition.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/8241/testbed_components_575px.JPG style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>The internal layout of the Z97-Pro (Wi-Fi ac) board is presented below.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/8241/z97-boardlayout_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>It should be noted that the Thunderbolt add-on card can only be connected to PCIe lanes hanging off the PCH (and can't be connected directly to the CPU). Apparently, this is a requirement for vendors to obtain Thunderbolt certification from Intel. In the above layout, we see that the add-on card can only go to the bottom PCIe slot (PCIEX16_3). In addition to the hardware restriction, the BIOS actually operates this slot in x1 mode, with the other three lanes being shared with the ASMedia USB 3.0 ports in the rear panel and the x1 PCIe slot (PCIE X1 SLOT4). The BIOS setting was altered to operate the x16 slot in x4 mode (maximum possible bandwidth for the card). The BIOS entry also has a PCIe cache line setting for Thunderbolt. It was left at 32 bytes (the default) for our evaluation.</p><p>Our testing methodology for DAS units takes into consideration the usual use-case for such devices. The most common usage scenario is transfer of large amounts of photos and videos to and from the unit. The minor usage scenario is importing files directly off the DAS into a multimedia editing program such as Adobe Photoshop.</p><p>In order to tackle the first use-case, we created three test folders with the following characteristics:</p><ul><li>Photos: 15.6 GB collection of 4320 photos (RAW as well as JPEGs) in 61 sub-folders</li><li>Videos: 16.1 GB collection of 244 videos (MP4 as well as MOVs) in 6 sub-folders</li><li>BR: 10.7 GB Blu-ray folder structure of the IDT Benchmark Blu-ray (the same that we use in our robocopy tests for NAS systems)</li></ul><p>For the second use-case, we take advantage of PC Mark 8's storage bench. The storage workload involves games as well as multimedia editing applications. The command line version allows us to cherry-pick storage traces to run on a target drive. We chose the following traces.</p><ul><li>Adobe Photoshop (Light)</li><li>Adobe Photoshop (Heavy)</li><li>Adobe After Effects</li><li>Adobe Illustrator</li></ul><p>Usually, PC Mark 8 reports time to complete the trace, but the detailed log report has the read and write bandwidth figures which we present in our performance tables. Note that the bandwidth number reported in the results don't involve idle time compression. Results might appear low, but that is part of the workload characteristic. Note that the same CPU is being used for all configurations / will be used for future DAS reviews. Therefore, comparing the numbers for each trace should be possible across different DAS units.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7orrAp5utnZOde6S7zGiqoaenZIVzgJBoo5qbmZrAbn7Bop5mrJiqu6Wx0ZumpaxdZ3qiusNmqa6fl5qxbsDHrqWdnaKXvK3AjJ2YrGWimsOqsdZoaQ%3D%3D</p></section></article></main></div><footer><div class=container><span class=copyright>&copy; 2024 ZBlogX - <a rel=license href=http://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a></span></div></footer><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://iklan.listspress.com/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://iklan.listspress.com/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>